# js与动画

## 一、轮播图

轮播图其实主要分两种，一个是PC端的，一个是移动端的

- PC端：轮播图主要有以下几种功能，左右箭头的滑动，点击小图标的滑动，轮播图的自动滑动

  **先定义动画函数：**一般一个动画长廊是由一个ul组成的，所以移动的是ul每次移动的是图片的索引*单个图片的宽度，这样如果我当前在第0张图片，我想移动到第三张，那么就是**- 3 * width**,**这个时候我又想移动到第二张，那么就是从当前的距离（-3*width）移动到（-2 x width），动画函数annimate有两个主要参数，移动的目标，移动的靶点）

  **先来定义点击小图标的滑动：**对应个每个小图标一个索引，这样点击对应图标的时候，获得索引，这样靶点就得到了，然后就可以直接跳转到对应的图片了，这个事件没有计时器；

  **再来定义右移动：**由于向右移动不能没有限制，而且在移动到最后一张图片的时候要返回第一张，为了不让视觉上看到，所以会在最后一张后再插入第一张，然后移动到现在最后一张（比之前多了一张）的时候，立即跳转到第一张，这个时候是察觉不到的，因为图片是一样的，都是第一张；需要注意的是，小图标应该还是原来的数目，当转到最后一张图的时候，势必会导致小图标的下标超出，这个时候必须加一个判断：如果到了最后一张，则小图标的所索引应该为0；注意要实现节流；这个也不是定时事件，所有没有interval计时器；

  **左移：**跟右移基本一样，需要注意的时候，在第一张的时候，向左移，不应该让视觉观察到图片的连续移动，所以，这个时候，应该立即跳转最后一张（因为最后一张与第一张相同），然后实现左移；同样需要注意小图标的特判：在没有跳转到倒数第二张的时候，仍然是第0个小图标；

  **自动播放：**这个就自动调用向右移动的函数即可，这个是有interval计时器的，要赋值，定义为全局计时器事件；

  **鼠标移入轮播图：**轮播图静止：将之前的全局计时器清除；

- 移动端：主要是多了touchstart，touchend，touchmove3个事件